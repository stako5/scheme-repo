<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schema Designer - Database Schema Tool</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Top Toolbar -->
    <header class="toolbar">
        <div class="toolbar-left">
            <button class="btn btn--primary toolbar-btn" id="newSchemaBtn">
                <span>New Schema</span>
            </button>
            <button class="btn btn--secondary toolbar-btn" id="addTableBtn">
                <span>Add Table</span>
            </button>
            <button class="btn btn--outline toolbar-btn" id="saveBtn">
                <span>Save</span>
            </button>
            <button class="btn btn--outline toolbar-btn" id="exportBtn">
                <span>Export SQL</span>
            </button>
            <button class="btn btn--outline toolbar-btn" id="importBtn">
                <span>Import</span>
            </button>
        </div>
        <div class="toolbar-center">
            <h1 class="toolbar-title">Schema Designer</h1>
        </div>
        <div class="toolbar-right">
            <button class="btn btn--ai toolbar-btn" id="aiAssistantBtn">
                <span>ðŸ¤– Ask AI Assistant</span>
            </button>
            <div class="zoom-controls">
                <button class="btn btn--outline zoom-btn" id="zoomOutBtn">âˆ’</button>
                <span class="zoom-level">100%</span>
                <button class="btn btn--outline zoom-btn" id="zoomInBtn">+</button>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Left Sidebar -->
        <aside class="sidebar sidebar-left">
            <div class="sidebar-section">
                <h3 class="sidebar-title">Schema Overview</h3>
                <div class="schema-tree" id="schemaTree">
                    <div class="tree-item">No tables yet</div>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3 class="sidebar-title">Templates</h3>
                <div class="templates-list" id="templatesList">
                    <!-- Templates will be populated by JS -->
                </div>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">Recent Schemas</h3>
                <div class="recent-list">
                    <div class="recent-item">My E-commerce DB</div>
                    <div class="recent-item">Blog Schema</div>
                    <div class="recent-item">User Management</div>
                </div>
            </div>
        </aside>

        <!-- Main Canvas -->
        <main class="canvas-container">
            <div class="canvas" id="canvas">
                <div class="canvas-grid"></div>
                <div class="tables-container" id="tablesContainer">
                    <!-- Tables will be dynamically created here -->
                </div>
                <svg class="relationships-svg" id="relationshipsSvg">
                    <!-- Relationship lines will be drawn here -->
                </svg>
            </div>
            <div class="canvas-overlay hidden" id="canvasOverlay">
                <div class="welcome-message">
                    <h2>Welcome to Schema Designer</h2>
                    <p>Click "Add Table" to start designing your database schema</p>
                </div>
            </div>
        </main>

        <!-- Right Sidebar (AI Assistant) -->
        <aside class="sidebar sidebar-right collapsed" id="aiSidebar">
            <div class="ai-header">
                <h3 class="sidebar-title">AI Assistant</h3>
                <button class="close-btn" id="closeAiBtn">Ã—</button>
            </div>
            
            <div class="ai-suggestions">
                <h4>Quick Actions</h4>
                <div class="suggestion-buttons" id="suggestionButtons">
                    <!-- Suggestions will be populated by JS -->
                </div>
            </div>

            <div class="ai-chat">
                <div class="chat-history" id="chatHistory">
                    <div class="ai-message">
                        <div class="message-bubble">
                            Hi! I'm your AI database design assistant. I can help you create tables, optimize schemas, and generate SQL. What would you like to work on?
                        </div>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" placeholder="Ask me about database design..." id="aiInput" class="form-control">
                    <button class="btn btn--primary" id="sendAiBtn">Send</button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Bottom Panel -->
    <footer class="bottom-panel collapsed" id="bottomPanel">
        <div class="panel-header">
            <div class="panel-tabs">
                <button class="tab-btn active" data-tab="sql">SQL Preview</button>
                <button class="tab-btn" data-tab="properties">Properties</button>
                <button class="tab-btn" data-tab="validation">Validation</button>
            </div>
            <button class="toggle-panel-btn" id="togglePanelBtn">â–²</button>
        </div>
        <div class="panel-content">
            <div class="tab-content active" id="sqlTab">
                <textarea class="sql-output" id="sqlOutput" readonly placeholder="SQL will be generated here..."></textarea>
            </div>
            <div class="tab-content" id="propertiesTab">
                <div class="properties-content">Select a table to view properties</div>
            </div>
            <div class="tab-content" id="validationTab">
                <div class="validation-messages">
                    <div class="validation-item status--success">âœ“ Schema structure looks good</div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Table Edit Modal -->
    <div class="modal hidden" id="tableModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Edit Table</h3>
                <button class="close-btn" id="closeModalBtn">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Table Name</label>
                    <input type="text" class="form-control" id="tableNameInput">
                </div>
                <div class="form-group">
                    <label class="form-label">Columns</label>
                    <div class="columns-list" id="columnsList">
                        <!-- Columns will be added here -->
                    </div>
                    <button class="btn btn--outline" id="addColumnBtn">Add Column</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancelModalBtn">Cancel</button>
                <button class="btn btn--primary" id="saveTableBtn">Save Table</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>